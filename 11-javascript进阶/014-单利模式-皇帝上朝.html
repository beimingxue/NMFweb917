<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>单利模式-皇帝上朝</title>
	<script>
	 function Person(name){
	 	//this = new Object;
	 	this.name = name;
        return {age:18};
        //return this;
	 }
	 var p1 = new Person('tom');
	 var p2 = new Person('leo');
	 console.log(p2);

	(function(w){
			function King(name){	
				this.name = '皇帝';
				this.id = Math.random();
			}
			
		/*function King(){
			var king=  null;	
				var fn = (function(){
                   //var king=  null;
                   var self = this;
                   return function(){
                   	 
                         king = {
                         	self.name: '皇帝',
                         	self.id: Math.random(),
                         	king = self
                    
                         return king;
                   	  }
                   }
				})()
				console.log(fn());
				return fn();
			}*/
			King.prototype = {
				constructor: King,
				_proto_: Object.prototype,
				say: function(){
					console.log(this.name + this.id + 'say 平身');
				}
			}
		    /*King.getking = (function(){
		    	var king = null;
		    	return function(){
                    if(!king){
                    	king = new King;
                    }
                    return king;
		    	}
		    })()*/
			w.King = King;
		})(window)
		//king.getking();
		for(var i=1; i<=5; i++){
			console.log('day' + i);
			new King().say();
            //King.getking().say();
		}

	</script>
</head>
<body>
	
</body>
</html>